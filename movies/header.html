<!-- /movies/header.html -->
<header class="neek-header w-full bg-[#0b0b0b] border-b border-gray-800 md:fixed md:top-0 md:left-0 md:right-0 z-50">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between min-h-[56px]">
    <!-- Logo -->
    <a href="/index.html" class="flex items-center gap-3">
      <img src="https://github.com/animeneek/Neek/blob/main/assets/images/Neek_haiyku.png?raw=true"
           alt="Neek logo" class="h-10 object-contain max-h-11" />
    </a>

    <!-- Desktop Navigation -->
    <nav class="hidden md:flex gap-6 text-sm font-medium" aria-label="Main navigation">
      <a class="neek-link" href="/anime/index.html">Switch to Anime</a>
      <a class="neek-link" href="/movies/trending.html">Trending</a>
      <a class="neek-link" href="/movies/latest.html">Latest</a>
      <a class="neek-link" href="/movies/ongoing.html">Ongoing</a>
      <a class="neek-link" href="/movies/comingsoon.html">Coming Soon</a>
    </nav>

    <!-- Search (desktop only) -->
    <div class="hidden md:flex">
      <div class="relative w-72">
        <input id="headerSearch" type="text" placeholder="Search..."
               class="w-full rounded-xl bg-[#1a1a1a] border border-gray-700 px-4 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-[#ff4444]" />
        <button id="headerSearchBtn" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Bottom Navigation -->
  <nav class="neek-mobile-nav md:hidden fixed bottom-0 left-0 right-0 bg-black/70 backdrop-blur-lg border-t border-gray-800 flex justify-around text-xs py-2 z-50">
    <a class="neek-link flex flex-col items-center" href="/anime/index.html">
      <i class="fa-solid fa-exchange-alt"></i>
      <span class="mt-1 text-[10px]">Switch</span>
    </a>
    <a class="neek-link flex flex-col items-center" href="/movies/trending.html">
      <i class="fa-solid fa-fire"></i>
      <span class="mt-1 text-[10px]">Trending</span>
    </a>
    <a class="neek-link flex flex-col items-center" href="/movies/latest.html">
      <i class="fa-solid fa-clock"></i>
      <span class="mt-1 text-[10px]">Latest</span>
    </a>
    <a class="neek-link flex flex-col items-center" href="/movies/ongoing.html">
      <i class="fa-solid fa-play-circle"></i>
      <span class="mt-1 text-[10px]">Ongoing</span>
    </a>
    <a class="neek-link flex flex-col items-center" href="/movies/comingsoon.html">
      <i class="fa-solid fa-calendar"></i>
      <span class="mt-1 text-[10px]">Coming</span>
    </a>
  </nav>

  <style>
    :root { --accent: #ff4444; }

    html, body { overflow-x: hidden; box-sizing: border-box; }

    .neek-link {
      color: #fff;
      text-decoration: none !important;
      display: inline-flex;
      align-items: center;
      gap: .375rem;
    }
    .neek-link:hover {
      color: var(--accent) !important;
      text-decoration: none !important;
    }

    .neek-mobile-nav a {
      flex: 1 1 0;
      min-width: 0;
      padding: 6px 6px;
      color: #fff;
      text-decoration: none !important;
    }
    .neek-mobile-nav a i {
      display: block;
      font-size: 18px;
      line-height: 1;
    }
    .neek-mobile-nav a span {
      display: block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .neek-header img {
      max-height: 44px;
      max-width: 100%;
      height: auto;
    }

    @media (max-width: 420px) {
      .neek-mobile-nav { padding-top: 8px; padding-bottom: 10px; }
    }
  </style>

  <script>
    (() => {
      function attachSearch() {
        const input = document.getElementById("headerSearch");
        const btn = document.getElementById("headerSearchBtn");
        if (!input || !btn) return;

        function goSearch() {
          const q = input.value.trim();
          if (q) {
            window.location.href = "/movies/search.html?q=" + encodeURIComponent(q);
          }
        }

        btn.addEventListener("click", goSearch);
        input.addEventListener("keypress", e => {
          if (e.key === "Enter") goSearch();
        });
      }

      // Run immediately after DOM ready
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", attachSearch);
      } else {
        attachSearch();
      }
    })();
  </script>
</header>
